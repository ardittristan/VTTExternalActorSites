{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/CoC7/handlebars/helpers/localize.js","webpack:///./node_modules/escape-string-regexp/index.js","webpack:///./node_modules/splice-string/index.js","webpack:///./node_modules/lodash.toarray/index.js","webpack:///./src/CoC7/libs/config.js","webpack:///./src/CoC7/libs/CoC7Parser.js","webpack:///./src/CoC7/populatesheet.js","webpack:///./src/lib.js","webpack:///(webpack)/buildin/global.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","lang","require","prop","string","TypeError","replace","toArray","str","count","insert","arr","splice","join","MAX_SAFE_INTEGER","argsTag","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","reIsHostCtor","reIsUint","rsComboMarksRange","rsAstral","rsCombo","rsFitz","rsNonAstral","rsRegional","rsSurrPair","reOptMod","rsOptVar","rsSeq","rsSymbol","reUnicode","RegExp","reHasUnicode","freeGlobal","global","freeSelf","self","root","Function","baseValues","props","array","iteratee","index","length","result","Array","arrayMap","mapToArray","map","size","forEach","setToArray","set","stringToArray","test","hasUnicode","match","unicodeToArray","split","asciiToArray","uid","func","transform","funcProto","objectProto","coreJsData","maskSrcKey","exec","keys","IE_PROTO","funcToString","toString","objectToString","reIsNative","iteratorSymbol","iterator","undefined","propertyIsEnumerable","nativeKeys","arg","DataView","getNative","Map","Promise","Set","WeakMap","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","arrayLikeKeys","inherited","isArray","isObjectLike","isArrayLike","isArrayLikeObject","isArguments","baseTimes","String","skipIndexes","isIndex","push","baseIsNative","isObject","isMasked","isFunction","e","isHostObject","baseKeys","Ctor","constructor","proto","getValue","getTag","ArrayBuffer","resolve","ctorString","isLength","tag","type","values","isString","source","copyArray","data","next","done","iteratorToArray","COC7","melee","rngd","mnvr","thrown","shotgun","dbrl","impl","brst","auto","ahdb","addb","slnt","spcl","mont","blst","stun","rare","burn","noadjustments","noxpgain","special","rarity","combat","fighting","firearm","CoC7Parser","content","html","document","createElement","innerHTML","text","TextEditor","_getTextNodes","rgx","_replaceTextContent","_createLink","options","cls","dataset","check","icon","blind","regx","matches","matchAll","from","includes","toLowerCase","title","difficulty","CoC7Check","difficultyString","humanName","localize","char","charKey","short","label","entries","template","Actor","templates","characteristics","getCharacteristicNames","format","modifier","sanMin","sanMax","displayName","a","classList","add","k","v","draggable","difficultyLevel","isNaN","Number","unknown","regular","hard","extreme","critical","impossible","stringId","slice","_tabs","navSelector","contentSelector","initial","Tabs","usesPerRoundString","item","usesPerRound","normal","max","properties","burst","getNameWithoutSpec","specNameRegex","specialization","filteredName","trim","getSkillsByName","skillName","items","skillList","creditRating","CR","creditRatingSkill","parseInt","boutOfMadness","effects","find","isInABoutOfMadness","disabled","insanity","isInsane","cthulhuMythos","CM","CthulhuMythosName","cthulhuMythosSkill","pos","fromRange","Hooks","on","sheetTemplate","actorData","baseUrl","img","url","imgParse","formula","con","siz","dex","app","int","pow","edu","attribs","hp","mp","lck","san","mov","db","build","armor","status","criticalWounds","unconscious","dying","dead","prone","tempoInsane","indefInsane","biography","personalDescription","infos","occupation","age","sex","residence","birthplace","archetype","organization","flags","locked","manualCredit","credit","monetarySymbol","multiplier","spent","assetsDetails","development","personal","encounteredCreatures","skills","filter","weapons","previousSpec","skill","isSpecialization","base","adjustments","experience","factor","moneySymbol","spendingLevel","assets","cash","itemsByType","list","meleeSkills","rangeSkills","cbtSkills","combatSkills","_id","weapon","usesAlternateSkill","ammo","skillSet","main","id","alternativ","_properties","rangeWpn","meleeWpn","hasEmptyValueWithFormula","characteristic","editable","Math","floor","display","MOV","sum","maxHP","externalactor","pulpRules","hpMax","isFirst","isLast","indefiniteInsanityLevel","dailyLoss","hasInventory","sanity","boutRealTime","CoC7","realTime","duration","rounds","seconds","round","indefiniteInstanity","indefinite","insaneDuration","boutDurationText","insanityDurationText","active","summary","durationText","hint","underlying","indefintie","occupationSet","archetypeSet","getData","console","log","actor","pulpCharacter","allowedProtoProperties","changedUrls","indexOf","escapeStringRegexp","spliceString","$","first","event","preventDefault","li","currentTarget","parents","chatData","htmlOptions","JSON","parse","stringify","description","labels","enrichHTML","skillLabel","found","owner","sk","usesAlternativeSkill","this","malfunction","bullets","_weaponChatData","getChatData","secrets","hasClass","children","slideUp","remove","div","append","specialDiv","hide","slideDown","toggleClass","_onItemSummary","activateListeners","g","window"],"mappings":"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","file":"populatesheet.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 369);\n","const lang = require(\"../../libs/lang.json\");\n\nmodule.exports =\n  /**@param {string} prop */\n  function (prop) {\n    return lang[prop] || prop;\n  };\n","'use strict';\n\nmodule.exports = string => {\n\tif (typeof string !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\t// Escape characters with special meaning either inside or outside character sets.\n\t// Use a simple backslash escape when it’s always valid, and a \\unnnn escape when the simpler form would be disallowed by Unicode patterns’ stricter grammar.\n\treturn string\n\t\t.replace(/[|\\\\{}()[\\]^$+*?.]/g, '\\\\$&')\n\t\t.replace(/-/g, '\\\\x2d');\n};\n","'use strict';\nconst toArray = require('lodash.toarray');\n\nmodule.exports = (str, i, count, insert) => {\n\tconst arr = toArray(str);\n\tarr.splice(i, count, insert);\n\treturn arr.join('');\n};\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe23',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20f0',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboMarksRange + rsComboSymbolsRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboMarksRange + rsComboSymbolsRange + rsVarRange + ']');\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.values` and `_.valuesIn` which creates an\n * array of `object` property values corresponding to the property names\n * of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the array of property values.\n */\nfunction baseValues(object, props) {\n  return arrayMap(props, function(key) {\n    return object[key];\n  });\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `iterator` to an array.\n *\n * @private\n * @param {Object} iterator The iterator to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction iteratorToArray(iterator) {\n  var data,\n      result = [];\n\n  while (!(data = iterator.next()).done) {\n    result.push(data.value);\n  }\n  return result;\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Symbol = root.Symbol,\n    iteratorSymbol = Symbol ? Symbol.iterator : undefined,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && objectToString.call(value) == stringTag);\n}\n\n/**\n * Converts `value` to an array.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Array} Returns the converted array.\n * @example\n *\n * _.toArray({ 'a': 1, 'b': 2 });\n * // => [1, 2]\n *\n * _.toArray('abc');\n * // => ['a', 'b', 'c']\n *\n * _.toArray(1);\n * // => []\n *\n * _.toArray(null);\n * // => []\n */\nfunction toArray(value) {\n  if (!value) {\n    return [];\n  }\n  if (isArrayLike(value)) {\n    return isString(value) ? stringToArray(value) : copyArray(value);\n  }\n  if (iteratorSymbol && value[iteratorSymbol]) {\n    return iteratorToArray(value[iteratorSymbol]());\n  }\n  var tag = getTag(value),\n      func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n  return func(value);\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * Creates an array of the own enumerable string keyed property values of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property values.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.values(new Foo);\n * // => [1, 2] (iteration order is not guaranteed)\n *\n * _.values('hi');\n * // => ['h', 'i']\n */\nfunction values(object) {\n  return object ? baseValues(object, keys(object)) : [];\n}\n\nmodule.exports = toArray;\n","export const COC7 = {};\n\nCOC7.weaponProperties = {\n  melee: \"CoC7.Weapon.Property.Melee\",\n  rngd: \"CoC7.WeaponRngd\",\n  mnvr: \"CoC7.WeaponProperyManeuver\",\n  thrown: \"CoC7.Weapon.Property.Thrown\",\n  shotgun: \"CoC7.Weapon.Property.Shotgun\",\n  dbrl: \"CoC7.WeaponDbrl\",\n  impl: \"CoC7.WeaponImpl\",\n  brst: \"CoC7.WeaponBrst\",\n  auto: \"CoC7.WeaponAuto\",\n  ahdb: \"CoC7.WeaponAhdb\",\n  addb: \"CoC7.WeaponAddb\",\n  slnt: \"CoC7.WeaponSlnt\",\n  spcl: \"CoC7.WeaponSpcl\",\n  mont: \"CoC7.WeaponMont\",\n  blst: \"CoC7.WeaponBlst\",\n  stun: \"CoC7.WeaponStun\",\n  rare: \"CoC7.WeaponRare\",\n  burn: \"CoC7.Weapon.Property.Burn\",\n};\n\nCOC7.skillProperties = {\n  noadjustments: \"CoC7.SkillNoAdjustments\",\n  noxpgain: \"CoC7.SkillNoXpGain\",\n  special: \"CoC7.SkillSpecial\",\n  rarity: \"CoC7.SkillRarity\",\n  push: \"CoC7.SkillPush\",\n  combat: \"CoC7.SkillCombat\",\n  fighting: \"CoC7.SkillFighting\",\n  firearm: \"CoC7.SkillFirearm\",\n};\n\nCOC7.CthulhuMythosName = \"CoC7.CthulhuMythosName\";\n","import localize from \"../handlebars/helpers/localize.js\"\nimport template from \"./template.json\"\n\nexport default class CoC7Parser {\n  static enrichHTML(content) {\n    const html = document.createElement(\"div\");\n    html.innerHTML = String(content);\n\n    let text = [];\n\n    text = TextEditor._getTextNodes(html);\n    const rgx = new RegExp(\"@(coc7).(.*?)\\\\[([^\\\\]]+)\\\\](?:{([^}]+)})?\", \"gi\");\n    TextEditor._replaceTextContent(text, rgx, CoC7Parser._createLink);\n    return html.innerHTML;\n  }\n\n  static _createLink(match, tag, type, options, name) {\n    const data = {\n      cls: [\"coc7-link\"],\n      dataset: { check: type },\n      icon: \"fas fa-dice\",\n      blind: false,\n      name: name,\n    };\n\n    const regx = new RegExp(\"[^,]+\", \"gi\");\n    const matches = options.matchAll(regx);\n    for (let match of Array.from(matches)) {\n      let [key, value] = match[0].split(\":\");\n      if (\"icon\" == key) data.icon = value;\n      if (\"blind\" == key && undefined == value) {\n        value = true;\n        data.blind = true && [\"check\"].includes(type.toLowerCase());\n      }\n      data.dataset[key] = value;\n    }\n\n    let title;\n    const difficulty = CoC7Check.difficultyString(data.dataset.difficulty);\n\n    switch (type.toLowerCase()) {\n      case \"check\": {\n        let humanName = data.dataset.name;\n        if ([\"attributes\", \"attribute\", \"attrib\", \"attribs\"].includes(data.dataset.type?.toLowerCase())) {\n          if (\"lck\" == data.dataset.name) humanName = localize(\"CoC7.Luck\");\n          if (\"san\" == data.dataset.name) humanName = localize(\"CoC7.Sanity\");\n        }\n        if ([\"charac\", \"char\", \"characteristic\", \"characteristics\"].includes(data.dataset.type?.toLowerCase())) {\n          humanName = CoC7Utilities.getCharacteristicNames(data.dataset.name)?.label;\n        }\n        title = format(`CoC7.LinkCheck${!data.dataset.difficulty ? \"\" : \"Diff\"}${!data.dataset.modifier ? \"\" : \"Modif\"}`, {\n          difficulty: difficulty,\n          modifier: data.dataset.modifier,\n          name: humanName,\n        });\n        break;\n      }\n      case \"sanloss\":\n        title = format(`CoC7.LinkSanLoss${!data.dataset.difficulty ? \"\" : \"Diff\"}${!data.dataset.modifier ? \"\" : \"Modif\"}`, {\n          difficulty: difficulty,\n          modifier: data.dataset.modifier,\n          sanMin: data.dataset.sanMin,\n          sanMax: data.dataset.sanMax,\n        });\n        break;\n      case \"item\":\n        title = format(`CoC7.LinkItem${!data.dataset.difficulty ? \"\" : \"Diff\"}${!data.dataset.modifier ? \"\" : \"Modif\"}`, {\n          difficulty: difficulty,\n          modifier: data.dataset.modifier,\n          name: data.dataset.name,\n        });\n        break;\n      default:\n        break;\n    }\n\n    if (!name) {\n      data.name = title;\n    } else data.dataset.displayName = true;\n\n    const a = document.createElement(\"a\");\n    a.title = title;\n    a.classList.add(...data.cls);\n    for (let [k, v] of Object.entries(data.dataset)) {\n      a.dataset[k] = v;\n    }\n    a.draggable = true;\n    a.innerHTML = `${data.blind ? '<i class=\"fas fa-eye-slash\"></i>' : \"\"}<i data-link-icon=\"${data.icon}\" class=\"link-icon ${data.icon}\"></i>${data.name}`;\n\n    return a;\n  }\n}\n\nclass CoC7Check {\n  static difficultyString(difficultyLevel) {\n\t\tswitch (!isNaN(Number(difficultyLevel))?Number(difficultyLevel):difficultyLevel) {\n\t\tcase '?':\n\t\t\treturn localize('CoC7.UnknownDifficulty');\n\t\tcase '+':\n\t\t\treturn localize('CoC7.HardDifficulty');\n\t\tcase '++':\n\t\t\treturn localize('CoC7.ExtremeDifficulty');\n\t\tcase '+++':\n\t\t\treturn localize('CoC7.CriticalDifficulty');\n\t\tcase 0:\n\t\t\treturn localize('CoC7.RegularDifficulty');\n\t\tcase CoC7Check.difficultyLevel.unknown:\n\t\t\treturn localize('CoC7.UnknownDifficulty');\n\t\tcase CoC7Check.difficultyLevel.regular:\n\t\t\treturn localize('CoC7.RegularDifficulty');\n\t\tcase CoC7Check.difficultyLevel.hard:\n\t\t\treturn localize('CoC7.HardDifficulty');\n\t\tcase CoC7Check.difficultyLevel.extreme:\n\t\t\treturn localize('CoC7.ExtremeDifficulty');\n\t\tcase CoC7Check.difficultyLevel.critical:\n\t\t\treturn localize('CoC7.CriticalDifficulty');\n\t\tdefault:\n\t\t\treturn null;\n\t\t}\n\n\t}\n\n  static difficultyLevel = {\n\t\tunknown: -1,\n\t\tregular: 1,\n\t\thard: 2,\n\t\textreme: 3,\n\t\tcritical: 4,\n\t\timpossible: 9\n\t}\n}\n\nclass CoC7Utilities {\n  static getCharacteristicNames( char){\n\t\tconst charKey = char.toLowerCase();\n\n\t\tswitch( charKey){\n\t\tcase 'str': return { short: localize('CHARAC.STR'), label: localize('CHARAC.Strength')};\n\t\tcase 'con': return { short: localize('CHARAC.CON'), label: localize('CHARAC.Constitution')};\n\t\tcase 'siz': return { short: localize('CHARAC.SIZ'), label: localize('CHARAC.Size')};\n\t\tcase 'dex': return { short: localize('CHARAC.DEX'), label: localize('CHARAC.Dexterity')};\n\t\tcase 'app': return { short: localize('CHARAC.APP'), label: localize('CHARAC.Appearance')};\n\t\tcase 'int': return { short: localize('CHARAC.INT'), label: localize('CHARAC.Intelligence')};\n\t\tcase 'pow': return { short: localize('CHARAC.POW'), label: localize('CHARAC.Power')};\n\t\tcase 'edu': return { short: localize('CHARAC.EDU'), label: localize('CHARAC.Education')};\n\t\tdefault: {\n\t\t\tfor (const [, value] of Object.entries(template.Actor.templates.characteristics.characteristics)) {\n\t\t\t\tif( charKey == localize( value.short).toLowerCase()) return { short: localize(value.short), label: localize(value.label)};\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\t\t}\n\t}\n}\n\nfunction format(stringId, data={}) {\n  let str = localize(stringId);\n  const fmt = /\\{[^\\}]+\\}/g;\n  str = str.replace(fmt, k => {\n    return data[k.slice(1, -1)];\n  });\n  return str;\n}\n","import escapeStringRegexp from \"escape-string-regexp\";\nimport spliceString from \"splice-string\";\nimport localize from \"./handlebars/helpers/localize.js\";\nimport { COC7 } from \"./libs/config.js\";\nimport CoC7Parser from \"./libs/CoC7Parser.js\";\nimport { imgParse } from \"../lib\";\n\n/**\n * might be different for different systems, but this initializes the sheet tabs\n */\nconst tabs = [\n  {\n    navSelector: \".tabs\",\n    contentSelector: \".sheet-body\",\n    initial: \"skills\",\n  },\n];\n\nconst _tabs = createTabHandlers();\n\n/* -------------------------------------------- */\n/*   Sheet Populator                            */\n/* -------------------------------------------- */\n\n/**\n * @param  {HandlebarsTemplatable} sheetTemplate\n * @param  {Object} actorData\n * @param  {String} baseUrl\n */\nfunction populateSheet(sheetTemplate, actorData, baseUrl) {\n  /**\n   * here you parse the json data into data you can send to the actor sheet\n   */\n  const data = getData(actorData, baseUrl);\n  console.log(data);\n  /**\n   * here you send the data that the handlebars template reads from to the template\n   */\n  /** @type {string} */\n  let innerHTML = sheetTemplate(\n    {\n      actor: data,\n      data: data.data,\n      skillList: data.skillList,\n      credit: data.credit,\n      itemsByType: data.itemsByType,\n      rangeWpn: data.rangeWpn,\n      meleeWpn: data.meleeWpn,\n      isInABoutOfMadness: data.isInABoutOfMadness,\n      isInsane: data.isInsane,\n      sanity: data.sanity,\n      pulpCharacter: data.flags?.externalactor?.pulpRules,\n      meleeSkills: data.meleeSkills,\n      rangeSkills: data.combatSkills,\n    },\n    {\n      allowedProtoProperties: {\n        size: true,\n      },\n    }\n  );\n\n  // add host url to relative css urls\n  let changedUrls = [];\n  innerHTML.match(/url\\(.*?\\)/g).forEach((url) => {\n    if (!url.match(/https?:\\/\\//) && !changedUrls.includes(url)) {\n      let index = pos(url.indexOf(\"'\")) || pos(url.indexOf('\"')) || pos(url.indexOf(\"(\")) || 0;\n      innerHTML = innerHTML.replace(new RegExp(escapeStringRegexp(url), \"g\"), spliceString(url, index + 1, 0, baseUrl));\n      changedUrls.push(url);\n    }\n  });\n\n  $(\".window-content\")[0].innerHTML = innerHTML;\n\n  activateListeners(data);\n}\n\n/* -------------------------------------------- */\n\n/**\n * @param  {Object} data\n * @param  {String} baseUrl\n */\nfunction getData(data, baseUrl) {\n  data.img = imgParse(data.img, baseUrl);\n\n  //#region defaults\n  if (!data.data.characteristics) {\n    data.data.characteristics = {\n      str: { value: null, short: \"CHARAC.STR\", label: \"CHARAC.Strength\", formula: null },\n      con: { value: null, short: \"CHARAC.CON\", label: \"CHARAC.Constitution\", formula: null },\n      siz: { value: null, short: \"CHARAC.SIZ\", label: \"CHARAC.Size\", formula: null },\n      dex: { value: null, short: \"CHARAC.DEX\", label: \"CHARAC.Dexterity\", formula: null },\n      app: { value: null, short: \"CHARAC.APP\", label: \"CHARAC.Appearance\", formula: null },\n      int: { value: null, short: \"CHARAC.INT\", label: \"CHARAC.Intelligence\", formula: null },\n      pow: { value: null, short: \"CHARAC.POW\", label: \"CHARAC.Power\", formula: null },\n      edu: { value: null, short: \"CHARAC.EDU\", label: \"CHARAC.Education\", formula: null },\n    };\n  }\n\n  if (!data.data.attribs) {\n    data.data.attribs = {\n      hp: { value: null, max: null, short: \"HP\", label: \"Hit points\", auto: true },\n      mp: { value: null, max: null, short: \"HP\", label: \"Magic points\", auto: true },\n      lck: { value: null, short: \"LCK\", label: \"Luck\" },\n      san: { value: null, max: 99, short: \"SAN\", label: \"Sanity\", auto: true },\n      mov: { value: null, short: \"MOV\", label: \"Movement rate\", auto: true },\n      db: { value: null, short: \"DB\", label: \"Damage bonus\", auto: true },\n      build: { value: null, short: \"BLD\", label: \"Build\", auto: true },\n      armor: { value: null, auto: false },\n    };\n  }\n\n  if (!data.data.status) {\n    data.data.status = {\n      criticalWounds: { type: \"Boolean\", value: false },\n      unconscious: { type: \"Boolean\", value: false },\n      dying: { type: \"Boolean\", value: false },\n      dead: { type: \"Boolean\", value: false },\n      prone: { type: \"Boolean\", value: false },\n      tempoInsane: { type: \"boolean\", value: false },\n      indefInsane: { type: \"boolean\", value: false },\n    };\n  }\n\n  if (!data.data.biography) {\n    data.data.biography = { personalDescription: { type: \"string\", value: \"\" } };\n  }\n\n  if (!data.data.infos) {\n    data.data.infos = { occupation: \"\", age: \"\", sex: \"\", residence: \"\", birthplace: \"\", archetype: \"\", organization: \"\" };\n  }\n\n  if (!data.data.flags) {\n    data.data.flags = { locked: true, manualCredit: false };\n  }\n\n  if (!data.data.credit) {\n    data.data.credit = { monetarySymbol: null, multiplier: null, spent: null, assetsDetails: null };\n  }\n\n  if (!data.data.development) {\n    data.data.development = { personal: null, occupation: null, archetype: null };\n  }\n\n  if (!data.data.biography) data.data.biography = [];\n  if (!data.data.encounteredCreatures) data.data.encounteredCreatures = [];\n\n  let skills = data.items.filter((item) => item?.type === \"skill\");\n  let weapons = data.items.filter((item) => item?.type === \"weapon\");\n  //#endregion\n\n  //#region skilllist\n  data.skillList = [];\n\n  let previousSpec = \"\";\n  for (const skill of skills) {\n    if (skill.data.properties.special) {\n      if (previousSpec != skill.data.specialization) {\n        previousSpec = skill.data.specialization;\n        data.skillList.push({\n          isSpecialization: true,\n          name: skill.data.specialization,\n        });\n      }\n    }\n    if (typeof skill.data.base === \"string\" || typeof skill.data.base === \"number\") {\n      skill.data.value = (skill.data.base * 1) + (skill.data.adjustments.experience * 1 || 0)\n    }\n    data.skillList.push(skill);\n  }\n  //#endregion\n\n  //#region credit\n  let manualCredit = data.data.flags.manualCredit;\n  if (!manualCredit) {\n    data.credit = {};\n    let factor;\n    let moneySymbol;\n    if (!data.data.credit) {\n      factor = 1;\n      moneySymbol = \"$\";\n    } else {\n      factor = parseInt(data.data.credit.multiplier) ? parseInt(data.data.credit.multiplier) : 1;\n      moneySymbol = data.data.credit.monetarySymbol ? data.data.credit.monetarySymbol : \"$\";\n    }\n\n    data.credit.spendingLevel = `${spendingLevel(data.items) * factor}${moneySymbol}`;\n    data.credit.assets = `${assets(data.items) * factor}${moneySymbol}`;\n    data.credit.cash = `${cash(data.items) * factor}${moneySymbol}`;\n  }\n  //#endregion\n\n  //#region itemsByType\n  data.itemsByType = {};\n\n  for (const item of data.items) {\n    let list = data.itemsByType[item.type];\n    if (!list) {\n      list = [];\n      data.itemsByType[item.type] = list;\n    }\n    list.push(item);\n  }\n  //#endregion\n\n  //#region skills\n  data.meleeSkills = skills.filter((skill) => skill.data.properties.combat == true && skill.data.properties.fighting == true);\n  data.rangeSkills = skills.filter((skill) => skill.data.properties.combat == true && skill.data.properties.firearm == true);\n\n  let cbtSkills = skills.filter((skill) => skill.data.properties.combat == true);\n  data.combatSkills = data.combatSkills || {};\n  if (cbtSkills) {\n    for (const skill of cbtSkills) {\n      data.combatSkills[skill._id] = skill;\n    }\n  }\n  //#endregion\n\n  //#region weapons\n  if (weapons) {\n    data.weapons = data.weapons || {};\n    for (const weapon of weapons) {\n      weapon.usesAlternateSkill = weapon.data.properties.auto == true || weapon.data.properties.brst == true;\n      if (!weapon.data.ammo) weapon.data.ammo = 0;\n\n      weapon.skillSet = true;\n      if (weapon.data.skill.main.id == \"\") {\n        weapon.skillSet = false;\n      } else {\n        if (data.combatSkills[weapon.data.skill.main.id]) {\n          // const skill = this.actor.getOwnedItem( weapon.data.skill.main.id);\n          weapon.data.skill.main.name = data.combatSkills[weapon.data.skill.main.id].name;\n          // weapon.data.skill.main.value = skill.value;\n        } else {\n          weapon.skillSet = false;\n        }\n\n        if (weapon.data.skill.alternativ.id != \"\") {\n          if (data.combatSkills[weapon.data.skill.alternativ.id]) {\n            // const skill = this.actor.getOwnedItem( weapon.data.skill.alternativ.id);\n            weapon.data.skill.alternativ.name = data.combatSkills[weapon.data.skill.alternativ.id].name;\n            // weapon.data.skill.alternativ.value = skill.value;\n          }\n        }\n      }\n\n      weapon.data._properties = [];\n      for (let [key, value] of Object.entries(COC7[\"weaponProperties\"])) {\n        let property = {};\n        property.id = key;\n        property.name = value;\n        property.value = true == weapon.data.properties[key];\n        weapon.data._properties.push(property);\n      }\n      data.rangeWpn = data.rangeWpn || [];\n      data.meleeWpn = data.meleeWpn || [];\n      data.weapons[weapon._id] = weapon;\n      if (weapon.data.properties.rngd) data.rangeWpn.push(weapon);\n      else data.meleeWpn.push(weapon);\n    }\n  }\n  //#endregion\n\n  //#region items\n  if (data.items) {\n    data.hasEmptyValueWithFormula = false;\n    if (data.data.characteristics) {\n      for (const characteristic of Object.values(data.data.characteristics)) {\n        if (!characteristic.value) characteristic.editable = true;\n        characteristic.hard = Math.floor(characteristic.value / 2);\n        characteristic.extreme = Math.floor(characteristic.value / 5);\n\n        //If no value && no formula don't display charac.\n        if (!characteristic.value && !characteristic.formula) characteristic.display = false;\n        else characteristic.display = true;\n\n        //if any characteristic has no value but has a formula.\n        if (!characteristic.value && characteristic.formula) characteristic.hasEmptyValueWithFormula = true;\n\n        data.hasEmptyValueWithFormula = data.hasEmptyValueWithFormula || characteristic.hasEmptyValueWithFormula;\n      }\n    }\n  }\n  //#endregion\n\n  //#region attribs\n  data.data.attribs.mov.value = mov(data); //return computed values or fixed values if not auto.\n  data.data.attribs.db.value = db(data);\n  data.data.attribs.build.value = build(data);\n\n  if (data.data.attribs.hp.value < 0) data.data.attribs.hp.value = null;\n  if (data.data.attribs.mp.value < 0) data.data.attribs.mp.value = null;\n  if (data.data.attribs.san.value < 0) data.data.attribs.san.value = null;\n\n  if (data.data.attribs.hp.auto) {\n    //TODO if any is null set max back to null.\n    if (data.data.characteristics.siz.value != null && data.data.characteristics.con.value != null) data.data.attribs.hp.max = hpMax(data);\n  }\n\n  if (data.data.attribs.mp.auto) {\n    //TODO if any is null set max back to null.\n    if (data.data.characteristics.pow.value != null) data.data.attribs.mp.max = Math.floor(data.data.characteristics.pow.value / 5);\n  }\n\n  if (data.data.attribs.san.auto) {\n    data.data.attribs.san.max = sanMax(data);\n  }\n\n  if (data.data.attribs.mp.value > data.data.attribs.mp.max || data.data.attribs.mp.max == null) data.data.attribs.mp.value = data.data.attribs.mp.max;\n  if (data.data.attribs.hp.value > data.data.attribs.hp.max || data.data.attribs.hp.max == null) data.data.attribs.hp.value = data.data.attribs.hp.max;\n\n  if (data.data.attribs.hp.value == null && data.data.attribs.hp.max != null) data.data.attribs.hp.value = data.data.attribs.hp.max;\n  if (data.data.attribs.mp.value == null && data.data.attribs.mp.max != null) data.data.attribs.mp.value = data.data.attribs.mp.max;\n\n  if (data.data.attribs.san.value == null && data.data.characteristics.pow.value != null) data.data.attribs.san.value = data.data.characteristics.pow.value;\n  if (data.data.attribs.san.value > data.data.attribs.san.max) data.data.attribs.san.value = data.data.attribs.san.max;\n\n  if (data.data.biography instanceof Array && data.data.biography.length) {\n    data.data.biography[0].isFirst = true;\n    data.data.biography[data.data.biography.length - 1].isLast = true;\n  }\n\n  data.data.indefiniteInsanityLevel = {};\n  data.data.indefiniteInsanityLevel.value = data.data.attribs.san.dailyLoss ? data.data.attribs.san.dailyLoss : 0;\n  data.data.indefiniteInsanityLevel.max = Math.floor(data.data.attribs.san.value / 5);\n\n  data.hasInventory =\n    Object.prototype.hasOwnProperty.call(data.itemsByType, \"item\") ||\n    Object.prototype.hasOwnProperty.call(data.itemsByType, \"book\") ||\n    Object.prototype.hasOwnProperty.call(data.itemsByType, \"spell\");\n  //#endregion\n\n  data.isInABoutOfMadness = isInABoutOfMadness(data.effects);\n  data.isInsane = isInsane(data.effects);\n  data.sanity = sanity(data.effects);\n\n  if (data.itemsByType?.occupation?.length > 0) {\n    data.data.infos.occupation = data.itemsByType.occupation[0].name;\n    data.data.infos.occupationSet = true;\n  } else data.data.infos.occupationSet = false;\n\n  if (data.itemsByType?.archetype?.length > 0) {\n    data.data.infos.archetype = data.itemsByType.archetype[0].name;\n    data.data.infos.archetypeSet = true;\n  } else data.data.infos.archetypeSet = false;\n\n  /**\n   * any other parsing that needs to be done\n   */\n\n  return data;\n}\n\n/* -------------------------------------------- */\n\nfunction activateListeners(data) {\n  // sheet object\n  const html = $(\".window-content\").first();\n\n  // bind tabs to pages\n  _tabs.forEach((t) => t.bind(html[0]));\n\n  html.find(\".show-detail\").on(\"click\", (event) => _onItemSummary(event, data));\n}\n\n/* -------------------------------------------- */\n/*   Helper Functions                           */\n/* -------------------------------------------- */\n\nfunction getChatData(htmlOptions, item) {\n  const data = JSON.parse(JSON.stringify(item.data));\n  //Fix : data can have description directly in field, not under value.\n  if (typeof data.description === \"string\" && !data.description.value) {\n    const value = data.description;\n    data.description = {\n      value: value,\n    };\n  }\n  const labels = [];\n\n  // Rich text description\n  data.description.value = TextEditor.enrichHTML(data.description.value, htmlOptions);\n  data.description.value = CoC7Parser.enrichHTML(data.description.value);\n  data.description.special = TextEditor.enrichHTML(data.description.special, htmlOptions);\n  data.description.special = CoC7Parser.enrichHTML(data.description.special);\n\n  // Item type specific properties\n  const props = [];\n\n  if (item.type == \"weapon\") _weaponChatData(item, labels, props, htmlOptions);\n\n  if (item.type == \"skill\") {\n    for (let [key, value] of Object.entries(COC7[\"skillProperties\"])) {\n      if (item.data.properties[key] == true) props.push(value);\n    }\n  }\n\n  // Filter properties and return\n  data.properties = props.filter((p) => !!p);\n  data.labels = labels;\n  return data;\n}\n\nfunction _weaponChatData(item, labels, props, htmlOptions) {\n  for (let [key, value] of Object.entries(COC7[\"weaponProperties\"])) {\n    if (item.data.properties[key] == true) props.push(value);\n  }\n\n  let skillLabel = localize(\"CoC7.Skill\");\n  let skillName = \"\";\n  let found = false;\n  if (item.data.skill.main.id && htmlOptions.owner) {\n    const skill = htmlOptions.owner.skillList.filter(sk => sk._id == item.data.skill.main.id)?.[0] ;\n    if (skill) {\n      skillName += getNameWithoutSpec(skill);\n      found = true;\n    }\n  }\n\n  if (item.usesAlternativeSkill && this.data.data.skill.alternativ.id && htmlOptions.owner) {\n    skillLabel = localize(\"CoC7.Skills\");\n    const skill = htmlOptions.owner.skillList.filter(sk => sk._id == item.data.skill.alternativ.id)?.[0];\n    if (skill) {\n      skillName += `/${getNameWithoutSpec(skill)}`;\n      found = true;\n    }\n  }\n\n  if (!found) {\n    skillName = item.data.skill.main.name;\n    if (item.usesAlternativeSkill && item.data.skill.alternativ.name) skillName += `/${item.data.skill.alternativ.name}`;\n  }\n\n  if (skillName) {\n    labels.push({\n      name: skillLabel,\n      value: skillName,\n    });\n  }\n\n  labels.push({\n    name: localize(\"CoC7.WeaponUsesPerRound\"),\n    value: usesPerRoundString(item),\n  });\n\n  labels.push({\n    name: localize(\"CoC7.WeaponMalfunction\"),\n    value: item.data.malfunction ? item.data.malfunction : \"-\",\n  });\n\n  if (item.data.bullets) {\n    labels.push({\n      name: localize(\"CoC7.WeaponBulletsInMag\"),\n      value: item.data.bullets,\n    });\n  }\n}\n\n/**\n * @param  {JQuery.ClickEvent<HTMLElement, undefined, HTMLElement, HTMLElement>} event\n */\nfunction _onItemSummary(event, data) {\n  event.preventDefault();\n  let li = $(event.currentTarget).parents(\".item\"),\n    item = data.items.filter((item) => item._id === li.data(\"item-id\"))?.[0],\n    chatData = getChatData({ secrets: true, owner: data }, item);\n\n  // Toggle summary\n  if (li.hasClass(\"expanded\")) {\n    let summary = li.children(\".item-summary\");\n    summary.slideUp(200, () => summary.remove());\n  } else {\n    let div = $('<div class=\"item-summary\"></div>');\n\n    let labels = $('<div class=\"item-labels\"></div>');\n    chatData.labels.forEach((p) =>\n      labels.append(`<div class=\"item-label\"><span class=\"label-name\">${p.name} :</span><span class=\"label-value\">${p.value}</span></div>`)\n    );\n    div.append(labels);\n\n    div.append($(`<div class=\"item-description\">${chatData.description.value}</div>`));\n    if (item.data.properties?.spcl) {\n      let specialDiv = $(`<div class=\"item-special\">${chatData.description.special}</div>`);\n      div.append(specialDiv);\n    }\n\n    let props = $('<div class=\"item-properties\"></div>');\n    chatData.properties.forEach((p) => props.append(`<div class=\"tag item-property\">${localize(p)}</div>`));\n    div.append(props);\n\n    li.append(div.hide());\n    div.slideDown(200);\n  }\n  li.toggleClass(\"expanded\");\n}\n\nfunction usesPerRoundString(item){\n  let usesPerRound;\n  if( item.data.usesPerRound.normal) usesPerRound = item.data.usesPerRound.normal;\n  else usesPerRound = '1';\n  if( item.data.usesPerRound.max) usesPerRound += `(${item.data.usesPerRound.max})`;\n  if( item.data.properties.auto) usesPerRound += ` ${localize('CoC7.WeaponAuto')}`;\n  if( item.data.properties.brst) {\n    usesPerRound += ` ${localize('CoC7.WeaponBrst')}`;\n    if( item.data.usesPerRound.burst) usesPerRound += `(${item.data.usesPerRound.burst})`;\n  }\n\n  return usesPerRound;\n}\n\n/* -------------------------------------------- */\n//#region credits\n\nfunction getNameWithoutSpec(item) {\n  if (item.data.properties?.special) {\n    const specNameRegex = new RegExp(item.data.specialization, \"ig\");\n    const filteredName = item.name\n      .replace(specNameRegex, \"\")\n      .trim()\n      .replace(/^\\(+|\\)+$/gm, \"\");\n    return filteredName.length ? filteredName : item.name;\n  }\n\n  return item.name;\n}\n\nfunction getSkillsByName(skillName, items) {\n  let skillList = [];\n  const name = skillName.match(/\\(([^)]+)\\)/) ? skillName.match(/\\(([^)]+)\\)/)[1] : skillName;\n\n  items.forEach((value) => {\n    if (getNameWithoutSpec(value).toLowerCase() == name.toLowerCase() && value.type == \"skill\") skillList.push(value);\n  });\n  return skillList;\n}\n\nfunction creditRatingSkill(items) {\n  let skillList = getSkillsByName(localize(\"CoC7.CreditRatingSkillName\"), items);\n  if (skillList.length != 0) return skillList[0];\n  return null;\n}\n\nfunction creditRating(items) {\n  const CR = creditRatingSkill(items);\n  if (CR) {\n    const value = CR.value;\n    if (value) return value;\n    return parseInt(CR.data.value);\n  }\n  return 0;\n}\n\nfunction spendingLevel(items) {\n  const CR = creditRating(items);\n  if (CR >= 99) return 5000;\n  if (CR >= 90) return 250;\n  if (CR >= 50) return 50;\n  if (CR >= 10) return 10;\n  if (CR >= 1) return 2;\n  return 0.5;\n}\n\nfunction assets(items) {\n  const CR = creditRating(items);\n  if (CR >= 99) return 5000000;\n  if (CR >= 90) return CR * 2000;\n  if (CR >= 50) return CR * 500;\n  if (CR >= 10) return CR * 50;\n  if (CR >= 1) return CR * 10;\n  return 0;\n}\n\nfunction cash(items) {\n  const CR = creditRating(items);\n  if (CR >= 99) return 50000;\n  if (CR >= 90) return CR * 20;\n  if (CR >= 50) return CR * 5;\n  if (CR >= 10) return CR * 2;\n  if (CR >= 1) return CR;\n  return 0.5;\n}\n\n//#endregion\n\n/* -------------------------------------------- */\n\n//#region madness\nfunction boutOfMadness(effects) {\n  return effects.find((e) => e.label == localize(\"CoC7.BoutOfMadnessName\"));\n}\n\nfunction isInABoutOfMadness(effects) {\n  if (!boutOfMadness(effects)) return false;\n  return !boutOfMadness(effects).disabled;\n}\n//#endregion\n\n/* -------------------------------------------- */\n\n//#region insanity\nfunction insanity(effects) {\n  return effects.find((e) => e.label == localize(\"CoC7.InsanityName\"));\n}\n\nfunction isInsane(effects) {\n  if (!insanity(effects)) return false;\n  return !insanity(effects).disabled;\n}\n//#endregion\n\n/* -------------------------------------------- */\n\n//#region sanity\nfunction sanity(effects) {\n  let boutRealTime = boutOfMadness(effects)?.flags?.CoC7?.realTime ? true : false;\n  let duration = boutRealTime ? boutOfMadness(effects)?.duration?.rounds : boutOfMadness(effects)?.duration.seconds;\n  if (!boutRealTime && duration) duration = Math.round(duration / 3600);\n  let indefiniteInstanity = insanity(effects)?.flags?.CoC7.indefinite ? true : false;\n  let insaneDuration = indefiniteInstanity ? null : insanity(effects)?.duration.seconds;\n  if (!indefiniteInstanity && insaneDuration) insaneDuration = insaneDuration / 3600;\n  let boutDurationText = isInABoutOfMadness(effects) ? (boutRealTime ? `${duration} ${localize(\"CoC7.rounds\")}` : `${duration} ${localize(\"CoC7.hours\")}`) : null;\n  const insanityDurationText = insaneDuration ? (isInsane(effects) ? (indefiniteInstanity ? null : `${insaneDuration} ${localize(\"CoC7.hours\")}`) : null) : null;\n  if (isInsane(effects) && !insanityDurationText && !indefiniteInstanity) indefiniteInstanity = true;\n  if (!duration) boutDurationText = \"\";\n\n  return {\n    boutOfMadness: {\n      active: isInABoutOfMadness(effects),\n      realTime: isInABoutOfMadness(effects) ? boutRealTime : undefined,\n      summary: isInABoutOfMadness(effects) ? !boutRealTime : undefined,\n      duration: isInABoutOfMadness(effects) ? duration : undefined,\n      durationText: boutDurationText ? boutDurationText : \"\",\n      hint: isInABoutOfMadness(effects) ? `${localize(\"CoC7.BoutOfMadness\")}${boutDurationText ? \": \" + boutDurationText : \"\"}` : localize(\"CoC7.BoutOfMadness\"),\n    },\n    underlying: {\n      active: isInsane(effects),\n      indefintie: isInsane(effects) ? indefiniteInstanity : undefined,\n      duration: insaneDuration,\n      durationText: insanityDurationText ? insanityDurationText : \"\",\n      hint: isInsane(effects)\n        ? indefiniteInstanity\n          ? localize(\"CoC7.IndefiniteInsanity\")\n          : `${localize(\"CoC7.TemporaryInsanity\")} ${insanityDurationText ? insanityDurationText : \"\"}`\n        : \"\",\n    },\n  };\n}\n//#endregion\n\n/* -------------------------------------------- */\n\n//#region mov\nfunction mov(data) {\n  if (!data.data.attribs) return null;\n  if (!data.data.attribs.mov) return null;\n  if (data.data.attribs.mov.value == \"auto\") data.data.attribs.mov.auto = true;\n  if (data.data.attribs.mov.auto) {\n    let MOV;\n    if (data.data.characteristics.dex.value < data.data.characteristics.siz.value && data.data.characteristics.str.value < data.data.characteristics.siz.value) MOV = 7;\n    if (data.data.characteristics.dex.value >= data.data.characteristics.siz.value || data.data.characteristics.str.value >= data.data.characteristics.siz.value)\n      MOV = 8;\n    if (data.data.characteristics.dex.value > data.data.characteristics.siz.value && data.data.characteristics.str.value > data.data.characteristics.siz.value) MOV = 9; // Bug correction by AdmiralNyar.\n    if (data.data.type != \"creature\") {\n      if (!isNaN(parseInt(data.data.infos.age))) MOV = parseInt(data.data.infos.age) >= 40 ? MOV - Math.floor(parseInt(data.data.infos.age) / 10) + 3 : MOV;\n    }\n    return MOV;\n  }\n  return data.data.attribs.mov.value;\n}\n//#endregion\n\n/* -------------------------------------------- */\n\n//#region db\nfunction db(data) {\n  if (!data.data.attribs) return null;\n  if (!data.data.attribs.db) return null;\n  if (data.data.attribs.db.value == \"auto\") data.data.attribs.db.auto = true;\n  if (data.data.attribs.db.auto) {\n    const sum = data.data.characteristics.str.value + data.data.characteristics.siz.value;\n    if (sum > 164) return `${Math.floor((sum - 45) / 80)}D6`;\n    if (sum < 65) return -2;\n    if (sum < 85) return -1;\n    if (sum < 125) return 0;\n    if (sum < 165) return \"1D4\";\n  }\n  return data.data.attribs.db.value;\n}\n//#endregion\n\n/* -------------------------------------------- */\n\n//#region build\nfunction build(data) {\n  if (!data.data.attribs) return null;\n  if (!data.data.attribs.build) return null;\n  if (data.data.attribs.build.value == \"auto\") data.data.attribs.build.auto = true;\n  if (data.data.attribs.build.auto) {\n    const sum = data.data.characteristics.str.value + data.data.characteristics.siz.value;\n    if (sum > 164) return Math.floor((sum - 45) / 80) + 1;\n    if (sum < 65) return -2;\n    if (sum < 85) return -1;\n    if (sum < 125) return 0;\n    if (sum < 165) return 1;\n  }\n\n  return data.data.attribs.build.value;\n}\n//#endregion\n\n/* -------------------------------------------- */\n\n//#region hpMax\nfunction hpMax(data) {\n  if (data.data.attribs.hp.auto) {\n    if (data.data.characteristics.siz.value != null && data.data.characteristics.con.value != null) {\n      const maxHP = Math.floor((data.data.characteristics.siz.value + data.data.characteristics.con.value) / 10);\n      return (data.flags.externalactor?.pulpRules || false) && \"character\" == data.type ? maxHP * 2 : maxHP;\n    }\n    if (data.data.attribs.hp.max) return parseInt(data.data.attribs.hp.max);\n    return null;\n  }\n  return parseInt(data.data.attribs.hp.max);\n}\n//#endregion\n\n/* -------------------------------------------- */\n\n//#region sanMax\nfunction sanMax(data) {\n  if (data.data.attribs.san.auto) {\n    if (cthulhuMythos(data.items)) return 99 - cthulhuMythos(data.items);\n    return 99;\n  }\n  return parseInt(data.data.attribs.san.max);\n}\n//#endregion\n\n/* -------------------------------------------- */\n\n//#region cthulhuMythos\nfunction cthulhuMythos(items) {\n  const CM = cthulhuMythosSkill(items);\n  if (CM) {\n    const value = CM.value;\n    if (value) return value;\n    return parseInt(CM.data.value);\n  }\n  return 0;\n}\n\nfunction cthulhuMythosSkill(items) {\n  let skillList = getSkillsByName(localize(COC7.CthulhuMythosName), items);\n  if (skillList.length != 0) return skillList[0];\n  return null;\n}\n//#endregion\n\nfunction createTabHandlers() {\n  return tabs.map((t) => {\n    return new Tabs(t);\n  });\n}\n\n/* -------------------------------------------- */\n\nArray.fromRange = function (n) {\n  return Array.from(new Array(parseInt(n)).keys());\n};\n\n/**\n * @param  {Number} n\n */\nfunction pos(n) {\n  return n > 0 ? n : undefined;\n}\n\n/**\n * listens to the hook that tells it to start the population\n */\n\nHooks.on(\"showSheet\", populateSheet);\n","/**\n * @param  {string} url\n * @param  {string} baseUrl\n */\nexport function imgParse(url, baseUrl) {\n  if (url.match(/https?:\\/\\//)) return url;\n  return baseUrl + url;\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n"],"sourceRoot":""}